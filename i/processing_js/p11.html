<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <title>△□○</title>
    <script src="processing-1.4.8.min.js"></script>
    <script type="text/processing" data-processing-target="processing-canvas">

//x=a*b/(a+b) a square in rectangle
	var a=300.0;
	var b=200.0;

	var d_a=1;
	var d_b=1;
	//var d_r_a=1;

    var r_a;
    var r_b=60;
    
	void setup() {
	  size(400, 400);
	  background(255);
	  noFill();
	}

    void draw(){
        background(255);
        
        stroke(0);
        triangle(0, height-1,   //A
        a,height-1,       //B
        a,width-b                 //C
        );
        

		r_a= a * (b -2 * r_b) / (2 * (b - r_b));
		ellipseMode(CENTER);
		//ellipse(100,200,r_a*2,r_b*2);
		ellipse(a-r_a, height-1-r_b, r_a*2, r_b*2);
		
        
        a=a+d_a;
        if( (a>width) ){
            d_a=d_a*-1;
            
        } else if(a<150){
            
            d_a=d_a*-1;
        }

        b=b+d_b;
        if( b>height){
            d_b=d_b*-1;
        } else if(b<150){
            d_b=d_b*-1;
        }

        
    }
    
    </script>

 
</head>
<body>
    <BR>
    <canvas id="processing-canvas"> </canvas>
    <p>r_a=a*(b-2*r_b)/(2*(b-r_b))</p>
</body>
</html>
