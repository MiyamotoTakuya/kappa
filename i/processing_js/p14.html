<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <title>△□○</title>
    <script src="processing-1.4.8.min.js"></script>
    <script type="text/processing" data-processing-target="processing-canvas">

	r=390;

	r_d=0.2;
	
	theta=60;

	void setup() {
	  size(400, 400);
	  background(255);
	  noFill();
	}

    void draw(){
        background(255);
        
        stroke(0);

		arc(0, height, r*2, r*2, radians(360-theta), radians(360));//

		line(0,height-1,r,height-1);//lower side

		x=cos(radians(theta))*r;
		y=sin(radians(theta))*r;
		line(0,height-1,0+x,height-1-y);//upper side
		
		//square
		oc=sqrt(r*r-y*y);
		od=x+y;
		oe=sqrt(od*od+y*y);
		
		or=r*od/oe;
		sr=r*y/oe;
		rect(or,height-1, -sr,-sr);
		


		theta=theta + r_d;
		if(theta >90 || theta < 0){
		 r_d=r_d * -1;


		}
	

	}//end of draw()
	

    
    </script>

</head>
<body>
    <BR>
    <canvas id="processing-canvas"> </canvas>
    <p>a square in the piece of pie</p>
</body>
</html>
